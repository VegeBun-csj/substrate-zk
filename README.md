# substrate-zk

A Substrate-based chain supporting `ZK-SNARK`(change Bellman's verifier to `no_std` to adapt substrate)
you can use this `verifier pallet` to verify the proof(uncompressed data) with `bls12_381` curve

## Build and Run
you should have known how to build a substrate-based chain. 

build the chain:
```
cargo build --release
```

run the chain:
```
./target/release/node-template --dev --tmp
```

## Test the zk-verifier
you can use this [adapter](https://github.com/DoraFactory/snarkjs-bellman-adapter) to generate proof(`proof_hex.json`) and verification(`vkey_hex.json`).
i will show a minimal example with this [circuit](https://github.com/DoraFactory/snarkjs-bellman-adapter/tree/main/circuit): `a*b=c`.
- you can call the function `generate_proof_vkey` of `pallet-verifier` to store `proof` and `verification key`(pass the hex data)
- call the `verifier` function to verify the proof

## Advantage
You can verify all proofs generated by snarkjs with `BLS12_381` through this pallet